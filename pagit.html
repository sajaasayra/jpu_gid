<!doctype html>
<html>

<head>
    <title>University major</title>
    <meta charset="UTF-8" />
    <link rel="icon" href="logo 4.jpg">
    <link rel="stylesheet" href="1.css">
    <script src="1.js"></script>
</head>

<body class="sp">
    <fieldset>
        <header class="ppagit">
            <p class="ppag">Enter your academic information:</p>
        </header>
        <form id="specializationForm" method="post">
            <div>
                <label class="cssinformation" for="num">Academic Year:</label>
                <input id="num" type="number" name="number" min="1" max="4" autofocus required>
            </div>
            <label class="cssinformation">Your university major:</label>
            <div class="major-option">
                <input type="radio" name="major" id="cs" value="Computer science" required>
                <label for="cs">Computer science</label>
            </div>
            <div class="major-option">
                <input type="radio" name="major" id="cn" value="Computer networks">
                <label for="cn">Computer networks</label>
            </div>
            <div class="major-option">
                <input type="radio" name="major" id="cyber" value="Cyber security">
                <label for="cyber">Cyber security</label>
            </div>
            <input class="save-btn" type="submit" value="Save">
        </form>
    </fieldset>

    <script>
        document.getElementById('specializationForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const selectedValue = document.querySelector('input[name="major"]:checked').value;

            if (!selectedValue) {
                alert("Please select a major before proceeding.");
                return;
            }

            localStorage.setItem("studentSpecialization", selectedValue);

            // إضافة القيم إلى النموذج قبل الإرسال
            const form = e.target;
            form.action = getSpecializationPage(selectedValue);
            form.submit();
        });

        function getSpecializationPage(specialization) {
            switch (specialization) {
                case "Computer networks":
                    return "/CN.html";
                case "Cyber security":
                    return "/CSS.html";
                case "Computer science":
                    return "/CS.html";
                default:
                    alert("An error occurred, please try again");
                    return "#";
            }
        }
    </script>
</body>

</html>
